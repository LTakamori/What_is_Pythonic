# <center>Python流程控制</center>

## 可迭代对象、迭代器、生成器

1. 当解释器需要一个迭代对象时，会对对象调用iter()生成，iter最后返回一个迭代器用于迭代
2. 所以可迭代对象指的是可以对该对象使用iter()方式生成迭代器的对象，所以迭代器本身也是可迭代对象
3. 迭代器实现了有 _\_next__ 和 \_\_iter__ 两个method，\_\_nex__ 返回迭代的元素并设置下一个元素，\_\_iter__ 返回迭代器本身
4. 迭代器的概念比生成器更加广泛，每一个生成器是迭代器，生成器通常通过yield语句来实现迭代

## 协程

1. 使用yield的语句可以主动从子流程中返回并将控制权转交给主流程，这种显式交出控制权的方式与线程的实现非常类似，并且更为明了，避免了在IO，磁盘读写等操作中进行无意义阻塞
2. yield也可以通过send方式将数据传给yield表达式的左边
3. 将yield视作流程控制的方法，协程也就自然产生了（PEP342）
4. yield from不只是语法糖，yield from通过委派生成器在调用方和子生成器中搭建一个管道，调用方和子生成器可以发送和返回值，并传入异常，委派生成器不需要大量处理异常的代码
5. 协程库的核心是yield from语句，用yield from搭建主事件循环和支持非阻塞操作之间的管道：将最外层的委派生成器交给主事件循环，在自己的代码中不使用next(),send()等函数，而是由主事件循环来进行这一过程，由主事件循环驱动低层的异步IO操作